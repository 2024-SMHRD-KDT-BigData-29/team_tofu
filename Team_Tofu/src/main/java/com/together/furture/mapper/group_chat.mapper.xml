<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.together.furture.mapper.group_chat_mapper">

	<!-- 그룹 채팅 메시지 저장 -->
	<insert id="insert"
		parameterType="com.together.furture.entity.group_chat">
		INSERT INTO chatting_info (
		croom_idx, chatter, chat_content, chat_emoticon, chat_file, created_at
		) VALUES (
		#{croom_idx}, #{chatter}, #{chat_content}, #{chat_emoticon}, #{chat_file}, NOW()
		)
	</insert>

	<!-- 특정 채팅방의 모든 메시지 조회 -->
	<select id="select_by_croom_idx" parameterType="int"
		resultType="com.together.furture.entity.group_chat">
		SELECT * FROM chatting_info
		WHERE croom_idx = #{croom_idx}
		ORDER BY created_at ASC
	</select>

</mapper>
